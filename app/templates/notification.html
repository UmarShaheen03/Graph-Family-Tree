<style>
    .notif_box {
        border-color: var(--bs-secondary-color);
        border-bottom-width: 2px;
        border-bottom-style: solid;
    }

    .notif_timestamp {
        color: var(--bs-secondary-color);
        font-size: smaller;
        margin: 0px;
    }

    .seen_button {
        padding: 0;
        width: 20px;
        height: 20px;
        font-size: smaller;
    }

    .go_to_button {
        padding: 0;
        width: 60px;
        height: 20px;
        font-size: smaller;
    }

    .notif_text {
        margin-bottom: 5px
    }
    
</style>

<div class="notif_box" id="notif_{{ notif.id }}">
    <div style="justify-content:space-between; display:flex;">
        <div style="width: 300px">
            <p class="notif_timestamp">{{ notif.time.strftime("%m/%d/%Y, %H:%M") }}</p>
            <p class="notif_text">{{ notif.text }}</p>
        </div>
        <div style="width: 100px">
            <button class="go_to_button btn btn-secondary" onclick="go_to('{{ notif.id }}')">Go To</button>
            <button class="seen_button btn btn-secondary" onclick="seen('{{ notif.id }}')">X</button>
        </div>
    </div>
</div>

<script>
    function seen(id) {
        $.post("/mark_as_seen/" + id, function(){}) //remove from db
        document.getElementById("notif_" + id).remove(); //remove from page
        document.getElementById("notif_count").innerText -= 1; //decrease count

        if (document.getElementById("notif_count").innerText == 0) { //if count hits 0
            document.getElementById("notif_count").remove(); //remove count
            document.getElementById("notif_bell").classList.remove("bi-bell-full"); //change to white empty bell
            document.getElementById("notif_bell").classList.add("bi-bell"); 
            document.getElementById("notif_bell").style.color = "var(--bs-navbar-hover-color)";
        }
    }

    function redirect() {

    }
</script>